<ui:composition template="/WEB-INF/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:define name="title">
        Employees
        <c:if test="#{not empty param['companyId']}">
            of the company #{param['companyId']}
        </c:if>
    </ui:define>

    <ui:define name="content">
        <h:dataTable value="#{employeeBean.employeeList}" var="o"
                     styleClass="table table-striped table-hover"
                     headerClass="order-table-header"
                     rowClasses="order-table-odd-row,order-table-even-row"
        >

            <h:column>
                <!-- column header -->
                <f:facet name="header">Employee Name</f:facet>
                <!-- row record -->
                #{o.employeeName}
            </h:column>

            <h:column>
                <f:facet name="header">Home phone number</f:facet>
                #{o.homePhoneNumber}
            </h:column>

            <h:column>
                <f:facet name="header">Cellphone number</f:facet>
                #{o.cellphoneNumber}
            </h:column>

            <h:column>
                <f:facet name="header">Work phone number</f:facet>
                #{o.workPhoneNumber}
            </h:column>

            <h:column>
                <f:facet name="header">Home address</f:facet>
                #{o.homeAddress}
            </h:column>

            <h:column>
                <f:facet name="header">Email</f:facet>
                #{o.email}
            </h:column>

            <h:column>
                <f:facet name="header">Bank details</f:facet>
                #{o.bankDetails}
            </h:column>

            <h:column>
                <f:facet name="header">Position</f:facet>
                #{o.position}
            </h:column>

            <h:column>
                <f:facet name="header">Company</f:facet>
                #{o.company.companyName}
            </h:column>

            <h:column>
                <f:facet name="header">Actions</f:facet>
                <h:form>
                    <h:commandLink value="Delete" action="#{employeeBean.delete(o.id)}"/>
                </h:form>

                <h:form>
                    <h:commandLink value="Update" action="#{employeeBean.redirectToUpdatePage(o.id)}"/>
                </h:form>
            </h:column>

        </h:dataTable>

        <c:if test="#{not empty param['companyId']}">
            <p>
                <span>
                    <!--<h:link styleClass="btn btn-primary my-2" outcome="add-employee?companyId=" + #{param['companyId']} value="Add a new employee"/>-->
                    <h:link styleClass="btn btn-primary my-2" outcome="add-employee" value="Add a new employee">
                        <f:param name="companyId" value="#{param['companyId']}" />
                    </h:link>
                </span>
            </p>
        </c:if>

    </ui:define>
</ui:composition>





